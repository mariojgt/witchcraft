import{_ as P,V as C,r as m,c as l,o,a as t,b as i,n as g,d,u as s,w as n,t as w,v as u,e as T,M as k,S as A,X as q,F,f as G,h as E,i as S,C as N,g as H,q as K,j as U,k as J,l as L}from"./vue-B8gUvkUI.js";const R={class:"flex items-center justify-between mb-4"},W={class:"flex items-center gap-3 flex-1 min-w-0"},X={class:"flex-1 min-w-0"},Y=["title"],Q={class:"flex items-center gap-2 mt-0.5"},Z={class:"text-xs text-gray-400 leading-none truncate"},_={class:"w-3 h-3 bg-yellow-500/30 border border-yellow-500/50 rounded-full flex items-center justify-center"},ee={key:0,class:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 z-50"},te={class:"bg-gray-900/95 backdrop-blur-sm border border-gray-700 rounded-lg p-3 shadow-xl max-w-xs"},ae={class:"text-xs text-gray-200 whitespace-pre-wrap"},re={class:"flex items-center gap-1 ml-2"},oe={key:0,class:"mb-4 p-3 bg-white/5 border border-white/10 rounded-lg space-y-3"},le={class:"space-y-2"},ne={class:"space-y-2"},se={class:"space-y-2"},ie={class:"flex gap-2"},de=["onClick","title"],ue={key:1,class:"mb-4 p-3 bg-yellow-500/5 border border-yellow-500/20 rounded-lg"},ge={class:"flex items-center gap-2 mb-2"},ce={class:"flex justify-end gap-2 mt-2"},be={class:"space-y-4"},me={class:"space-y-2"},xe={class:"pt-2"},fe={class:"flex items-center gap-3 cursor-pointer group"},ve={class:"relative"},ye={key:0,class:"space-y-2"},we={class:"text-xs text-green-400/70"},he={key:1,class:"space-y-2"},pe={class:"grid grid-cols-2 gap-3"},ke={class:"space-y-2"},Ve={key:0,class:"space-y-2"},Ce={class:"pt-2"},Te={class:"flex items-center gap-3 cursor-pointer group"},Ee={class:"relative"},Se={class:"absolute top-1/2 -left-2 transform -translate-y-1/2"},Ne={class:"absolute top-1/2 -right-2 transform -translate-y-1/2"},Ue=Object.assign({nodeMetadata:{category:"Data",icon:C,label:"Set Variable",initialData:{variableName:"myVariable",variableValue:"Hello World",valueType:"string",persistent:!1,cacheExpiry:"",useExtractedValue:!0,sourceVariable:"extractedValue",customTitle:"",customDescription:"",comment:"",colorTheme:"green"}}},{__name:"SetVariableNode",props:["data"],emits:["delete"],setup(a){const f=a,c=m(!1),v=m(!1),y=m(!1),x=m(""),h=m(null),p=m(!1),j=[{name:"purple",label:"Purple",gradient:"linear-gradient(145deg, #8b5cf6, #7c3aed)"},{name:"blue",label:"Blue",gradient:"linear-gradient(145deg, #3b82f6, #1d4ed8)"},{name:"green",label:"Green",gradient:"linear-gradient(145deg, #10b981, #059669)"},{name:"red",label:"Red",gradient:"linear-gradient(145deg, #ef4444, #dc2626)"},{name:"yellow",label:"Yellow",gradient:"linear-gradient(145deg, #f59e0b, #d97706)"},{name:"pink",label:"Pink",gradient:"linear-gradient(145deg, #ec4899, #db2777)"},{name:"gray",label:"Gray",gradient:"linear-gradient(145deg, #6b7280, #4b5563)"},{name:"orange",label:"Orange",gradient:"linear-gradient(145deg, #f97316, #ea580c)"}];function $(){const b=f.data.colorTheme||"green",e={purple:"bg-gradient-to-br from-purple-500/20 to-purple-600/20 border-purple-500/20",blue:"bg-gradient-to-br from-blue-500/20 to-blue-600/20 border-blue-500/20",green:"bg-gradient-to-br from-green-500/20 to-green-600/20 border-green-500/20",red:"bg-gradient-to-br from-red-500/20 to-red-600/20 border-red-500/20",yellow:"bg-gradient-to-br from-yellow-500/20 to-yellow-600/20 border-yellow-500/20",pink:"bg-gradient-to-br from-pink-500/20 to-pink-600/20 border-pink-500/20",gray:"bg-gradient-to-br from-gray-500/20 to-gray-600/20 border-gray-500/20",orange:"bg-gradient-to-br from-orange-500/20 to-orange-600/20 border-orange-500/20"};return e[b]||e.green}function D(){const b=f.data.colorTheme||"green",e={purple:"text-purple-400",blue:"text-blue-400",green:"text-green-400",red:"text-red-400",yellow:"text-yellow-400",pink:"text-pink-400",gray:"text-gray-400",orange:"text-orange-400"};return e[b]||e.green}function M(){c.value=!c.value,v.value=!1}function B(){c.value=!1}function z(){v.value=!v.value,c.value=!1}function I(){y.value=!0,x.value=f.data.customTitle||"Set Variable",J(()=>{h.value?.focus(),h.value?.select()})}function V(){f.data.customTitle=x.value.trim(),y.value=!1}function O(){y.value=!1,x.value=""}return(b,e)=>(o(),l("div",{class:g(`bg-white/[0.02] backdrop-blur-xl border border-white/10 rounded-xl p-5 min-w-[320px] relative shadow-2xl transition-all duration-300 node-${a.data.colorTheme||"green"}`)},[t("div",R,[t("div",W,[t("div",{class:g(["w-9 h-9 rounded-lg flex items-center justify-center border transition-all duration-300",$()])},[d(s(C),{class:g(`w-5 h-5 transition-colors duration-300 ${D()}`)},null,8,["class"])],2),t("div",X,[y.value?n((o(),l("input",{key:1,"onUpdate:modelValue":e[0]||(e[0]=r=>x.value=r),onBlur:V,onKeydown:[T(V,["enter"]),T(O,["escape"])],ref_key:"titleInput",ref:h,class:"font-semibold text-white text-sm bg-transparent border-b border-green-500 outline-none w-full",placeholder:"Enter custom title"},null,544)),[[u,x.value]]):(o(),l("div",{key:0,onClick:I,class:"font-semibold text-white text-sm cursor-pointer hover:text-green-400 transition-colors truncate",title:a.data.customTitle||"Set Variable"},w(a.data.customTitle||"Set Variable"),9,Y)),t("div",Q,[t("p",Z,w(a.data.customDescription||"Store and manage data"),1),a.data.comment&&a.data.comment.trim()?(o(),l("div",{key:0,class:"relative comment-indicator",onMouseenter:e[1]||(e[1]=r=>p.value=!0),onMouseleave:e[2]||(e[2]=r=>p.value=!1)},[t("div",_,[d(s(k),{class:"w-2 h-2 text-yellow-400"})]),p.value?(o(),l("div",ee,[t("div",te,[e[15]||(e[15]=t("div",{class:"text-xs font-medium text-yellow-400 mb-1"},"Comment:",-1)),t("div",ae,w(a.data.comment),1),e[16]||(e[16]=t("div",{class:"absolute top-full left-1/2 transform -translate-x-1/2 w-2 h-2 bg-gray-900 border-r border-b border-gray-700 rotate-45"},null,-1))])])):i("",!0)],32)):i("",!0)])])]),t("div",re,[t("button",{onClick:M,class:g(`w-8 h-8 rounded-lg transition-all duration-200 flex items-center justify-center group ${a.data.comment&&a.data.comment.trim()?"bg-yellow-500/20 text-yellow-400 hover:bg-yellow-500/30":"hover:bg-yellow-500/10 text-gray-400 hover:text-yellow-400"}`),title:"Add/Edit Comment"},[d(s(k),{class:"w-4 h-4 group-hover:scale-110 transition-transform"})],2),t("button",{onClick:z,class:"w-8 h-8 rounded-lg hover:bg-green-500/10 text-gray-400 hover:text-green-400 transition-all duration-200 flex items-center justify-center group",title:"Node Settings"},[d(s(A),{class:"w-4 h-4 group-hover:scale-110 transition-transform"})]),t("button",{onClick:e[3]||(e[3]=r=>b.$emit("delete")),class:"w-8 h-8 rounded-lg hover:bg-red-500/10 text-gray-400 hover:text-red-400 transition-all duration-200 flex items-center justify-center group"},[d(s(q),{class:"w-4 h-4 group-hover:scale-110 transition-transform"})])])]),v.value?(o(),l("div",oe,[t("div",le,[e[17]||(e[17]=t("label",{class:"block text-xs font-medium text-gray-300 tracking-wide"},"Custom Title",-1)),n(t("input",{"onUpdate:modelValue":e[4]||(e[4]=r=>a.data.customTitle=r),placeholder:"Enter custom node title",class:"w-full text-sm bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white placeholder-gray-500 focus:bg-white/10 focus:border-green-500/50 focus:ring-2 focus:ring-green-500/20 transition-all duration-200 outline-none"},null,512),[[u,a.data.customTitle]])]),t("div",ne,[e[18]||(e[18]=t("label",{class:"block text-xs font-medium text-gray-300 tracking-wide"},"Custom Description",-1)),n(t("input",{"onUpdate:modelValue":e[5]||(e[5]=r=>a.data.customDescription=r),placeholder:"Enter custom description",class:"w-full text-sm bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white placeholder-gray-500 focus:bg-white/10 focus:border-green-500/50 focus:ring-2 focus:ring-green-500/20 transition-all duration-200 outline-none"},null,512),[[u,a.data.customDescription]])]),t("div",se,[e[19]||(e[19]=t("label",{class:"block text-xs font-medium text-gray-300 tracking-wide"},"Color Theme",-1)),t("div",ie,[(o(),l(F,null,G(j,r=>t("button",{key:r.name,onClick:je=>a.data.colorTheme=r.name,class:g(`w-6 h-6 rounded-lg border-2 transition-all duration-200 ${a.data.colorTheme===r.name?"border-white scale-110":"border-gray-600 hover:border-gray-500"}`),style:L({background:r.gradient}),title:r.label},null,14,de)),64))])])])):i("",!0),c.value?(o(),l("div",ue,[t("div",ge,[d(s(k),{class:"w-4 h-4 text-yellow-400"}),e[20]||(e[20]=t("span",{class:"text-sm font-medium text-yellow-400"},"Comment",-1))]),n(t("textarea",{"onUpdate:modelValue":e[6]||(e[6]=r=>a.data.comment=r),placeholder:"Add a comment to help document this node's purpose...",rows:"3",class:"w-full text-sm bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white placeholder-gray-500 resize-none focus:bg-white/10 focus:border-yellow-500/50 focus:ring-2 focus:ring-yellow-500/20 transition-all duration-200 outline-none"},"            ",512),[[u,a.data.comment]]),t("div",ce,[t("button",{onClick:e[7]||(e[7]=r=>c.value=!1),class:"px-3 py-1 text-xs text-gray-400 hover:text-white transition-colors"}," Cancel "),t("button",{onClick:B,class:"px-3 py-1 text-xs bg-yellow-500/20 text-yellow-400 hover:bg-yellow-500/30 rounded transition-colors"}," Save ")])])):i("",!0),t("div",be,[t("div",me,[e[21]||(e[21]=t("label",{class:"block text-xs font-medium text-gray-300 tracking-wide"},"Variable Name",-1)),n(t("input",{"onUpdate:modelValue":e[8]||(e[8]=r=>a.data.variableName=r),placeholder:"myVariable",class:"w-full text-sm bg-white/5 border border-white/10 rounded-lg px-3 py-2.5 text-white placeholder-gray-500 focus:bg-white/10 focus:border-green-500/50 focus:ring-2 focus:ring-green-500/20 transition-all duration-200 outline-none"},null,512),[[u,a.data.variableName]])]),t("div",xe,[t("label",fe,[t("div",ve,[n(t("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=r=>a.data.useExtractedValue=r),class:"sr-only"},null,512),[[E,a.data.useExtractedValue]]),t("div",{class:g(["w-4 h-4 border-2 border-white/20 rounded group-hover:border-green-400/50 transition-colors flex items-center justify-center",a.data.useExtractedValue?"bg-green-500 border-green-500":""])},[a.data.useExtractedValue?(o(),S(s(N),{key:0,class:"w-3 h-3 text-white"})):i("",!0)],2)]),e[22]||(e[22]=t("span",{class:"text-sm text-gray-300 group-hover:text-white transition-colors"},"Use Extracted Value",-1))]),e[23]||(e[23]=t("div",{class:"text-xs text-green-400/70 mt-1 ml-7"},"Use value from previous node (extractedValue) instead of manual input",-1))]),a.data.useExtractedValue?i("",!0):(o(),l("div",ye,[e[24]||(e[24]=t("label",{class:"block text-xs font-medium text-gray-300 tracking-wide"},"Variable Value",-1)),n(t("textarea",{"onUpdate:modelValue":e[10]||(e[10]=r=>a.data.variableValue=r),placeholder:"Enter value or use {{otherVariable}} for dynamic values",rows:"3",class:"w-full text-sm bg-white/5 border border-white/10 rounded-lg px-3 py-2.5 text-white placeholder-gray-500 resize-none focus:bg-white/10 focus:border-green-500/50 focus:ring-2 focus:ring-green-500/20 transition-all duration-200 outline-none"},null,512),[[u,a.data.variableValue]]),t("div",we,"Use "+w(b.variableName)+" to reference other variables",1)])),a.data.useExtractedValue?(o(),l("div",he,[e[25]||(e[25]=t("label",{class:"block text-xs font-medium text-gray-300 tracking-wide"},"Source Variable",-1)),n(t("input",{"onUpdate:modelValue":e[11]||(e[11]=r=>a.data.sourceVariable=r),placeholder:"extractedValue",class:"w-full text-sm bg-white/5 border border-white/10 rounded-lg px-3 py-2.5 text-white placeholder-gray-500 focus:bg-white/10 focus:border-green-500/50 focus:ring-2 focus:ring-green-500/20 transition-all duration-200 outline-none"},null,512),[[u,a.data.sourceVariable]]),e[26]||(e[26]=t("div",{class:"text-xs text-green-400/70"},"Variable name to extract value from (defaults to 'extractedValue')",-1))])):i("",!0),t("div",pe,[t("div",ke,[e[28]||(e[28]=t("label",{class:"block text-xs font-medium text-gray-300 tracking-wide"},"Type",-1)),n(t("select",{"onUpdate:modelValue":e[12]||(e[12]=r=>a.data.valueType=r),class:"w-full text-sm bg-white/5 border border-white/10 rounded-lg px-3 py-2.5 text-white focus:bg-white/10 focus:border-green-500/50 focus:ring-2 focus:ring-green-500/20 transition-all duration-200 outline-none"},e[27]||(e[27]=[K('<option value="string" data-v-462b63fc>String</option><option value="number" data-v-462b63fc>Number</option><option value="boolean" data-v-462b63fc>Boolean</option><option value="json" data-v-462b63fc>JSON Object</option><option value="array" data-v-462b63fc>Array</option>',5)]),512),[[H,a.data.valueType]])]),a.data.persistent?(o(),l("div",Ve,[e[29]||(e[29]=t("label",{class:"block text-xs font-medium text-gray-300 tracking-wide"},"Cache (min)",-1)),n(t("input",{"onUpdate:modelValue":e[13]||(e[13]=r=>a.data.cacheExpiry=r),type:"number",placeholder:"60",class:"w-full text-sm bg-white/5 border border-white/10 rounded-lg px-3 py-2.5 text-white placeholder-gray-500 focus:bg-white/10 focus:border-green-500/50 focus:ring-2 focus:ring-green-500/20 transition-all duration-200 outline-none"},null,512),[[u,a.data.cacheExpiry]])])):i("",!0)]),t("div",Ce,[t("label",Te,[t("div",Ee,[n(t("input",{type:"checkbox","onUpdate:modelValue":e[14]||(e[14]=r=>a.data.persistent=r),class:"sr-only"},null,512),[[E,a.data.persistent]]),t("div",{class:g(["w-4 h-4 border-2 border-white/20 rounded group-hover:border-green-400/50 transition-colors flex items-center justify-center",a.data.persistent?"bg-green-500 border-green-500":""])},[a.data.persistent?(o(),S(s(N),{key:0,class:"w-3 h-3 text-white"})):i("",!0)],2)]),e[30]||(e[30]=t("span",{class:"text-sm text-gray-300 group-hover:text-white transition-colors"},"Persistent (Cache)",-1))]),e[31]||(e[31]=t("div",{class:"text-xs text-green-400/70 mt-1 ml-7"},"Persistent variables survive workflow restarts",-1))])]),t("div",Se,[d(s(U),{type:"target",position:"left",class:"!w-4 !h-4 !bg-gray-600 !border-2 !border-gray-800 hover:!bg-green-500 hover:!scale-110 transition-all duration-200 !rounded-full shadow-lg"})]),t("div",Ne,[d(s(U),{type:"source",position:"right",class:"!w-4 !h-4 !bg-green-500 !border-2 !border-gray-800 hover:!bg-green-400 hover:!scale-110 transition-all duration-200 !rounded-full shadow-lg"})])],2))}}),De=P(Ue,[["__scopeId","data-v-462b63fc"]]);export{De as default};
