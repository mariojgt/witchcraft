import{_ as P,x as C,r as m,m as O,c as n,o as r,a as e,b as u,n as c,d,u as s,w as i,t as v,v as g,e as T,M as k,S as A,X as K,F as R,f as q,h as N,i as j,C as D,j as F,k as H,l as L}from"./vue-B8gUvkUI.js";const X={class:"flex items-center justify-between mb-4"},Y={class:"flex items-center gap-3 flex-1 min-w-0"},J={class:"flex-1 min-w-0"},Q=["title"],W={class:"flex items-center gap-2 mt-0.5"},Z={class:"text-xs text-gray-400 leading-none truncate"},_={class:"w-3 h-3 bg-yellow-500/30 border border-yellow-500/50 rounded-full flex items-center justify-center"},ee={key:0,class:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 z-50"},te={class:"bg-gray-900/95 backdrop-blur-sm border border-gray-700 rounded-lg p-3 shadow-xl max-w-xs"},le={class:"text-xs text-gray-200 whitespace-pre-wrap"},oe={class:"flex items-center gap-1 ml-2"},ae={key:0,class:"mb-4 p-3 bg-white/5 border border-white/10 rounded-lg space-y-3"},re={class:"space-y-2"},se={class:"space-y-2"},ne={class:"space-y-2"},ie={class:"flex gap-2"},de=["onClick","title"],ue={key:1,class:"mb-4 p-3 bg-yellow-500/5 border border-yellow-500/20 rounded-lg"},ce={class:"flex items-center gap-2 mb-2"},ge={class:"flex justify-end gap-2 mt-2"},be={class:"space-y-4"},me={class:"space-y-2"},fe={class:"space-y-2"},we={class:"space-y-2"},ye={class:"grid grid-cols-2 gap-3 pt-2"},xe={class:"flex items-center gap-3 cursor-pointer group"},ve={class:"relative"},he={class:"flex items-center gap-3 cursor-pointer group"},pe={class:"relative"},ke={key:0,class:"bg-white/5 border border-white/10 rounded-lg p-3"},Ve={class:"text-xs text-gray-400"},Ce={class:"text-yellow-400"},Te={class:"absolute top-1/2 -left-2 transform -translate-y-1/2"},Ne={class:"absolute top-1/2 -right-2 transform -translate-y-1/2"},je=Object.assign({nodeMetadata:{category:"Data",icon:C,label:"Get Variable",initialData:{variableName:"myVariable",outputVariable:"retrievedValue",defaultValue:"",fromCache:!1,failIfNotFound:!1,customTitle:"",customDescription:"",comment:"",colorTheme:"yellow"}}},{__name:"GetVariableNode",props:["data","variables"],emits:["delete"],setup(l){const a=l,b=m(!1),y=m(!1),x=m(!1),f=m(""),h=m(null),p=m(!1),I=[{name:"yellow",label:"Yellow",gradient:"linear-gradient(145deg, #f59e0b, #d97706)"},{name:"blue",label:"Blue",gradient:"linear-gradient(145deg, #3b82f6, #1d4ed8)"},{name:"purple",label:"Purple",gradient:"linear-gradient(145deg, #8b5cf6, #7c3aed)"},{name:"green",label:"Green",gradient:"linear-gradient(145deg, #10b981, #059669)"},{name:"red",label:"Red",gradient:"linear-gradient(145deg, #ef4444, #dc2626)"},{name:"pink",label:"Pink",gradient:"linear-gradient(145deg, #ec4899, #db2777)"},{name:"gray",label:"Gray",gradient:"linear-gradient(145deg, #6b7280, #4b5563)"},{name:"orange",label:"Orange",gradient:"linear-gradient(145deg, #f97316, #ea580c)"}];function S(){const w=a.data.colorTheme||"yellow",t={yellow:"bg-gradient-to-br from-yellow-500/20 to-yellow-600/20 border-yellow-500/20",blue:"bg-gradient-to-br from-blue-500/20 to-blue-600/20 border-blue-500/20",purple:"bg-gradient-to-br from-purple-500/20 to-purple-600/20 border-purple-500/20",green:"bg-gradient-to-br from-green-500/20 to-green-600/20 border-green-500/20",red:"bg-gradient-to-br from-red-500/20 to-red-600/20 border-red-500/20",pink:"bg-gradient-to-br from-pink-500/20 to-pink-600/20 border-pink-500/20",gray:"bg-gradient-to-br from-gray-500/20 to-gray-600/20 border-gray-500/20",orange:"bg-gradient-to-br from-orange-500/20 to-orange-600/20 border-orange-500/20"};return t[w]||t.yellow}function $(){const w=a.data.colorTheme||"yellow",t={yellow:"text-yellow-400",blue:"text-blue-400",purple:"text-purple-400",green:"text-green-400",red:"text-red-400",pink:"text-pink-400",gray:"text-gray-400",orange:"text-orange-400"};return t[w]||t.yellow}const E=O(()=>a.data.variableName?a.variables&&a.variables[a.data.variableName]?String(a.variables[a.data.variableName]).substring(0,30)+"...":a.data.defaultValue||"Variable not found":"No variable selected");function U(){b.value=!b.value,y.value=!1}function G(){b.value=!1}function M(){y.value=!y.value,b.value=!1}function B(){x.value=!0,f.value=a.data.customTitle||"Get Variable",H(()=>{h.value?.focus(),h.value?.select()})}function V(){a.data.customTitle=f.value.trim(),x.value=!1}function z(){x.value=!1,f.value=""}return(w,t)=>(r(),n("div",{class:c(`bg-white/[0.02] backdrop-blur-xl border border-white/10 rounded-xl p-5 min-w-[320px] relative shadow-2xl transition-all duration-300 node-${l.data.colorTheme||"yellow"}`)},[e("div",X,[e("div",Y,[e("div",{class:c(["w-9 h-9 rounded-lg flex items-center justify-center border transition-all duration-300",S()])},[d(s(C),{class:c(["w-5 h-5 transition-colors duration-300",$()])},null,8,["class"])],2),e("div",J,[x.value?i((r(),n("input",{key:1,"onUpdate:modelValue":t[0]||(t[0]=o=>f.value=o),onBlur:V,onKeydown:[T(V,["enter"]),T(z,["escape"])],ref_key:"titleInput",ref:h,class:"font-semibold text-white text-sm bg-transparent border-b border-yellow-500 outline-none w-full",placeholder:"Enter custom title"},null,544)),[[g,f.value]]):(r(),n("div",{key:0,onClick:B,class:"font-semibold text-white text-sm cursor-pointer hover:text-yellow-400 transition-colors truncate",title:l.data.customTitle||"Get Variable"},v(l.data.customTitle||"Get Variable"),9,Q)),e("div",W,[e("p",Z,v(l.data.customDescription||"Retrieve stored data"),1),l.data.comment&&l.data.comment.trim()?(r(),n("div",{key:0,class:"relative comment-indicator",onMouseenter:t[1]||(t[1]=o=>p.value=!0),onMouseleave:t[2]||(t[2]=o=>p.value=!1)},[e("div",_,[d(s(k),{class:"w-2 h-2 text-yellow-400"})]),p.value?(r(),n("div",ee,[e("div",te,[t[13]||(t[13]=e("div",{class:"text-xs font-medium text-yellow-400 mb-1"},"Comment:",-1)),e("div",le,v(l.data.comment),1),t[14]||(t[14]=e("div",{class:"absolute top-full left-1/2 transform -translate-x-1/2 w-2 h-2 bg-gray-900 border-r border-b border-gray-700 rotate-45"},null,-1))])])):u("",!0)],32)):u("",!0)])])]),e("div",oe,[e("button",{onClick:U,class:c(`w-8 h-8 rounded-lg transition-all duration-200 flex items-center justify-center group ${l.data.comment&&l.data.comment.trim()?"bg-yellow-500/20 text-yellow-400 hover:bg-yellow-500/30":"hover:bg-yellow-500/10 text-gray-400 hover:text-yellow-400"}`),title:"Add/Edit Comment"},[d(s(k),{class:"w-4 h-4 group-hover:scale-110 transition-transform"})],2),e("button",{onClick:M,class:"w-8 h-8 rounded-lg hover:bg-yellow-500/10 text-gray-400 hover:text-yellow-400 transition-all duration-200 flex items-center justify-center group",title:"Node Settings"},[d(s(A),{class:"w-4 h-4 group-hover:scale-110 transition-transform"})]),e("button",{onClick:t[3]||(t[3]=o=>w.$emit("delete")),class:"w-8 h-8 rounded-lg hover:bg-red-500/10 text-gray-400 hover:text-red-400 transition-all duration-200 flex items-center justify-center group"},[d(s(K),{class:"w-4 h-4 group-hover:scale-110 transition-transform"})])])]),y.value?(r(),n("div",ae,[e("div",re,[t[15]||(t[15]=e("label",{class:"block text-xs font-medium text-gray-300 tracking-wide"},"Custom Title",-1)),i(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>l.data.customTitle=o),placeholder:"Enter custom node title",class:"w-full text-sm bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white placeholder-gray-500 focus:bg-white/10 focus:border-yellow-500/50 focus:ring-2 focus:ring-yellow-500/20 transition-all duration-200 outline-none"},null,512),[[g,l.data.customTitle]])]),e("div",se,[t[16]||(t[16]=e("label",{class:"block text-xs font-medium text-gray-300 tracking-wide"},"Custom Description",-1)),i(e("input",{"onUpdate:modelValue":t[5]||(t[5]=o=>l.data.customDescription=o),placeholder:"Enter custom description",class:"w-full text-sm bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white placeholder-gray-500 focus:bg-white/10 focus:border-yellow-500/50 focus:ring-2 focus:ring-yellow-500/20 transition-all duration-200 outline-none"},null,512),[[g,l.data.customDescription]])]),e("div",ne,[t[17]||(t[17]=e("label",{class:"block text-xs font-medium text-gray-300 tracking-wide"},"Color Theme",-1)),e("div",ie,[(r(),n(R,null,q(I,o=>e("button",{key:o.name,onClick:De=>l.data.colorTheme=o.name,class:c(`w-6 h-6 rounded-lg border-2 transition-all duration-200 ${l.data.colorTheme===o.name?"border-white scale-110":"border-gray-600 hover:border-gray-500"}`),style:L({background:o.gradient}),title:o.label},null,14,de)),64))])])])):u("",!0),b.value?(r(),n("div",ue,[e("div",ce,[d(s(k),{class:"w-4 h-4 text-yellow-400"}),t[18]||(t[18]=e("span",{class:"text-sm font-medium text-yellow-400"},"Comment",-1))]),i(e("textarea",{"onUpdate:modelValue":t[6]||(t[6]=o=>l.data.comment=o),placeholder:"Add a comment to help document this node's purpose...",rows:"3",class:"w-full text-sm bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white placeholder-gray-500 resize-none focus:bg-white/10 focus:border-yellow-500/50 focus:ring-2 focus:ring-yellow-500/20 transition-all duration-200 outline-none"},"            ",512),[[g,l.data.comment]]),e("div",ge,[e("button",{onClick:t[7]||(t[7]=o=>b.value=!1),class:"px-3 py-1 text-xs text-gray-400 hover:text-white transition-colors"}," Cancel "),e("button",{onClick:G,class:"px-3 py-1 text-xs bg-yellow-500/20 text-yellow-400 hover:bg-yellow-500/30 rounded transition-colors"}," Save ")])])):u("",!0),e("div",be,[e("div",me,[t[19]||(t[19]=e("label",{class:"block text-xs font-medium text-gray-300 tracking-wide"},"Variable Name",-1)),i(e("input",{"onUpdate:modelValue":t[8]||(t[8]=o=>l.data.variableName=o),placeholder:"myVariable",class:"w-full text-sm bg-white/5 border border-white/10 rounded-lg px-3 py-2.5 text-white placeholder-gray-500 focus:bg-white/10 focus:border-yellow-500/50 focus:ring-2 focus:ring-yellow-500/20 transition-all duration-200 outline-none"},null,512),[[g,l.data.variableName]])]),e("div",fe,[t[20]||(t[20]=e("label",{class:"block text-xs font-medium text-gray-300 tracking-wide"},"Output Variable",-1)),i(e("input",{"onUpdate:modelValue":t[9]||(t[9]=o=>l.data.outputVariable=o),placeholder:"retrievedValue",class:"w-full text-sm bg-white/5 border border-white/10 rounded-lg px-3 py-2.5 text-white placeholder-gray-500 focus:bg-white/10 focus:border-yellow-500/50 focus:ring-2 focus:ring-yellow-500/20 transition-all duration-200 outline-none"},null,512),[[g,l.data.outputVariable]])]),e("div",we,[t[21]||(t[21]=e("label",{class:"block text-xs font-medium text-gray-300 tracking-wide"},"Default Value",-1)),i(e("input",{"onUpdate:modelValue":t[10]||(t[10]=o=>l.data.defaultValue=o),placeholder:"Fallback value",class:"w-full text-sm bg-white/5 border border-white/10 rounded-lg px-3 py-2.5 text-white placeholder-gray-500 focus:bg-white/10 focus:border-yellow-500/50 focus:ring-2 focus:ring-yellow-500/20 transition-all duration-200 outline-none"},null,512),[[g,l.data.defaultValue]])]),e("div",ye,[e("label",xe,[e("div",ve,[i(e("input",{type:"checkbox","onUpdate:modelValue":t[11]||(t[11]=o=>l.data.fromCache=o),class:"sr-only"},null,512),[[N,l.data.fromCache]]),e("div",{class:c(["w-4 h-4 border-2 border-white/20 rounded group-hover:border-yellow-400/50 transition-colors flex items-center justify-center",l.data.fromCache?"bg-yellow-500 border-yellow-500":""])},[l.data.fromCache?(r(),j(s(D),{key:0,class:"w-3 h-3 text-white"})):u("",!0)],2)]),t[22]||(t[22]=e("span",{class:"text-sm text-gray-300 group-hover:text-white transition-colors"},"From cache",-1))]),e("label",he,[e("div",pe,[i(e("input",{type:"checkbox","onUpdate:modelValue":t[12]||(t[12]=o=>l.data.failIfNotFound=o),class:"sr-only"},null,512),[[N,l.data.failIfNotFound]]),e("div",{class:c(["w-4 h-4 border-2 border-white/20 rounded group-hover:border-yellow-400/50 transition-colors flex items-center justify-center",l.data.failIfNotFound?"bg-yellow-500 border-yellow-500":""])},[l.data.failIfNotFound?(r(),j(s(D),{key:0,class:"w-3 h-3 text-white"})):u("",!0)],2)]),t[23]||(t[23]=e("span",{class:"text-sm text-gray-300 group-hover:text-white transition-colors"},"Fail if not found",-1))])]),l.data.variableName?(r(),n("div",ke,[e("div",Ve,[t[24]||(t[24]=e("span",{class:"text-gray-300 font-medium"},"Preview:",-1)),e("span",Ce,v(E.value),1)])])):u("",!0)]),e("div",Te,[d(s(F),{type:"target",position:"left",class:"!w-4 !h-4 !bg-gray-600 !border-2 !border-gray-800 hover:!bg-yellow-500 hover:!scale-110 transition-all duration-200 !rounded-full shadow-lg"})]),e("div",Ne,[d(s(F),{type:"source",position:"right",class:"!w-4 !h-4 !bg-yellow-500 !border-2 !border-gray-800 hover:!bg-yellow-400 hover:!scale-110 transition-all duration-200 !rounded-full shadow-lg"})])],2))}}),Ie=P(je,[["__scopeId","data-v-3490b973"]]);export{Ie as default};
